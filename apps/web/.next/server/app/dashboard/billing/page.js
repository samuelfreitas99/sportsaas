(()=>{var e={};e.id=600,e.ids=[600],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},9491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5158:e=>{"use strict";e.exports=require("http2")},5687:e=>{"use strict";e.exports=require("https")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},9419:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>x,tree:()=>c});var r=t(482),a=t(9108),l=t(2563),n=t.n(l),i=t(8300),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);t.d(s,o);let c=["",{children:["dashboard",{children:["billing",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,3610)),"C:\\Users\\Samuel F\\Documents\\projetos\\sportsaas\\apps\\web\\app\\dashboard\\billing\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,2917)),"C:\\Users\\Samuel F\\Documents\\projetos\\sportsaas\\apps\\web\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9361,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\Samuel F\\Documents\\projetos\\sportsaas\\apps\\web\\app\\dashboard\\billing\\page.tsx"],u="/dashboard/billing/page",p={require:t,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/dashboard/billing/page",pathname:"/dashboard/billing",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},6531:(e,s,t)=>{Promise.resolve().then(t.bind(t,4228))},7174:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,2583,23)),Promise.resolve().then(t.t.bind(t,6840,23)),Promise.resolve().then(t.t.bind(t,8771,23)),Promise.resolve().then(t.t.bind(t,3225,23)),Promise.resolve().then(t.t.bind(t,9295,23)),Promise.resolve().then(t.t.bind(t,3982,23))},7604:()=>{},4228:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>n});var r=t(2295),a=t(3729),l=t(8117);function n(){let[e,s]=(0,a.useState)(null),[t,n]=(0,a.useState)(!0),[i,o]=(0,a.useState)(!1),[c,d]=(0,a.useState)(null),[u,p]=(0,a.useState)(null);(0,a.useEffect)(()=>{s(null)},[]);let x=async e=>{d(null);try{let s=await l.Z.get(`/orgs/${e}/billing-settings`);p(s.data)}catch(e){console.error(e),p(null),d("Falha ao carregar billing settings (verifique permiss\xf5es).")}finally{n(!1)}};(0,a.useEffect)(()=>{if(!e){n(!1);return}x(e)},[e]);let m=(0,a.useMemo)(()=>!!u&&!(u.due_day<1)&&!(u.due_day>31)&&("CUSTOM_WEEKS"!==u.cycle||!!u.cycle_weeks&&!(u.cycle_weeks<=0)),[u]),h=async()=>{if(e&&u&&m){o(!0),d(null);try{await l.Z.put(`/orgs/${e}/billing-settings`,u),await x(e)}catch(e){console.error(e),d("Falha ao salvar billing settings.")}finally{o(!1)}}};return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50 p-8",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Billing"}),(0,r.jsxs)("div",{className:"text-sm text-gray-500",children:["Org: ",r.jsx("span",{className:"font-mono",children:e??"-"})]})]}),!e&&r.jsx("div",{className:"bg-white p-6 rounded shadow",children:r.jsx("p",{className:"text-gray-700",children:"Selecione uma organiza\xe7\xe3o no Dashboard primeiro."})}),e&&(0,r.jsxs)("div",{className:"bg-white p-6 rounded shadow max-w-2xl",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-xl font-bold",children:"Configura\xe7\xf5es"}),r.jsx("button",{className:"text-sm px-3 py-1 border rounded hover:bg-gray-50",onClick:()=>x(e),disabled:t,children:"Recarregar"})]}),c&&r.jsx("div",{className:"mb-3 text-sm text-red-600",children:c}),t?r.jsx("div",{className:"text-gray-500",children:"Carregando..."}):u?(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Billing Mode"}),(0,r.jsxs)("select",{className:"w-full border p-2 rounded",value:u.billing_mode,onChange:e=>p({...u,billing_mode:e.target.value}),children:[r.jsx("option",{value:"HYBRID",children:"HYBRID"}),r.jsx("option",{value:"MEMBERSHIP",children:"MEMBERSHIP"}),r.jsx("option",{value:"PER_SESSION",children:"PER_SESSION"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Cycle"}),(0,r.jsxs)("select",{className:"w-full border p-2 rounded",value:u.cycle,onChange:e=>p({...u,cycle:e.target.value}),children:[r.jsx("option",{value:"MONTHLY",children:"MONTHLY"}),r.jsx("option",{value:"WEEKLY",children:"WEEKLY"}),r.jsx("option",{value:"CUSTOM_WEEKS",children:"CUSTOM_WEEKS"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Anchor Date"}),r.jsx("input",{className:"w-full border p-2 rounded",type:"date",value:u.anchor_date,onChange:e=>p({...u,anchor_date:e.target.value})})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Due Day"}),r.jsx("input",{className:"w-full border p-2 rounded",type:"number",value:u.due_day,onChange:e=>p({...u,due_day:parseInt(e.target.value||"0")})})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Cycle Weeks"}),r.jsx("input",{className:"w-full border p-2 rounded",type:"number",value:u.cycle_weeks??"",onChange:e=>p({...u,cycle_weeks:""===e.target.value?null:parseInt(e.target.value)}),placeholder:"Somente para CUSTOM_WEEKS"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Membership Amount"}),r.jsx("input",{className:"w-full border p-2 rounded",type:"number",step:"0.01",value:u.membership_amount,onChange:e=>p({...u,membership_amount:parseFloat(e.target.value||"0")})})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Session Amount"}),r.jsx("input",{className:"w-full border p-2 rounded",type:"number",step:"0.01",value:u.session_amount,onChange:e=>p({...u,session_amount:parseFloat(e.target.value||"0")})})]})]}),r.jsx("button",{className:"w-full bg-blue-600 text-white px-4 py-2 rounded disabled:opacity-60",onClick:h,disabled:!m||i,children:"Salvar"})]}):r.jsx("div",{className:"text-gray-500",children:"Sem dados."})]})]})}},8117:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let r=t(1934).Z.create({baseURL:process.env.NEXT_PUBLIC_API_URL??"http://localhost:8000/api/v1"});r.interceptors.request.use(e=>e),r.interceptors.response.use(e=>e,e=>(e?.response?.status,Promise.reject(e)));let a=r},3610:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>l,__esModule:()=>a,default:()=>n});let r=(0,t(6843).createProxy)(String.raw`C:\Users\Samuel F\Documents\projetos\sportsaas\apps\web\app\dashboard\billing\page.tsx`),{__esModule:a,$$typeof:l}=r,n=r.default},2917:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>i,metadata:()=>n});var r=t(5036),a=t(265),l=t.n(a);t(7272);let n={title:"Sport SaaS",description:"Manage your sports organization"};function i({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{className:l().className,children:e})})}},7272:()=>{}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[869,192],()=>t(9419));module.exports=r})();