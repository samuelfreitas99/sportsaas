(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[665],{4075:function(e,t,r){Promise.resolve().then(r.bind(r,5382))},5382:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return l}});var a=r(7437),n=r(2265),o=r(1396),s=r.n(o);function l(){let[e,t]=(0,n.useState)(""),[r,o]=(0,n.useState)(""),[l,i]=(0,n.useState)(!1),u=async t=>{t.preventDefault(),i(!0);try{let t=new URLSearchParams;t.set("username",e),t.set("password",r);let a=await fetch("http://localhost:8000/api/v1/auth/login",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:t.toString()}),n=await a.text();if(!a.ok){console.error("Login failed:",a.status,n),alert("Falha no login");return}let o=JSON.parse(n);localStorage.setItem("token",o.access_token),window.location.assign("/dashboard")}catch(e){console.error(e),alert("Falha no login")}finally{i(!1)}};return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:(0,a.jsxs)("form",{onSubmit:u,className:"bg-white p-8 rounded shadow-md w-96",children:[(0,a.jsx)("h2",{className:"text-2xl mb-4 font-bold",children:"Login"}),(0,a.jsx)("input",{name:"username",type:"email",placeholder:"Email",value:e,onChange:e=>t(e.target.value),className:"w-full mb-4 p-2 border rounded",autoComplete:"email"}),(0,a.jsx)("input",{name:"password",type:"password",placeholder:"Password",value:r,onChange:e=>o(e.target.value),className:"w-full mb-4 p-2 border rounded",autoComplete:"current-password"}),(0,a.jsx)("button",{type:"submit",disabled:l,className:"w-full bg-blue-500 text-white p-2 rounded disabled:opacity-60",children:l?"Entrando...":"Login"}),(0,a.jsxs)("p",{className:"mt-4 text-sm",children:["Don't have an account?"," ",(0,a.jsx)(s(),{href:"/register",className:"text-blue-500",children:"Register"})]})]})})}},622:function(e,t,r){"use strict";var a=r(2265),n=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,l=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,r){var a,o={},u=null,c=null;for(a in void 0!==r&&(u=""+r),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)s.call(t,a)&&!i.hasOwnProperty(a)&&(o[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps)void 0===o[a]&&(o[a]=t[a]);return{$$typeof:n,type:e,key:u,ref:c,props:o,_owner:l.current}}t.Fragment=o,t.jsx=u,t.jsxs=u},7437:function(e,t,r){"use strict";e.exports=r(622)},1396:function(e,t,r){e.exports=r(5250)}},function(e){e.O(0,[250,971,938,744],function(){return e(e.s=4075)}),_N_E=e.O()}]);